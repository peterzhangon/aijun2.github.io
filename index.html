<!DOCTYPE html>
<html>
  <head>
    <title>Loading and Parsing CSV Data</title>
    <script src="https://unpkg.com/d3@5.11.0/dist/d3.min.js"></script>
    <style>
      pre {
        font-size: 7em;
      }
    </style>
  </head>
  <body>
    <pre id="message-container"></pre>

    <script>

      const csvUrl = 'https://gist.githubusercontent.com/curran/b236990081a24761f7000567094914e0/raw/cssNamedColors.csv';
      //const csvUrl = 'https://github.com/peterzhangon/python_teaching_2021_spring/blob/main/week1/test.csv';
	  //const csvUrl = 'https://github.com/nytimes/covid-19-data/blob/master/us-states.csv';

      // With d3.csv
      d3.csv(csvUrl).then(data => {
        let message = 'peter: \n';
		console.log(data);
        message = message + Math.round(d3.csvFormat(data).length / 1024) + ' kB\n';
        message = message + data.length + ' rows\n';
        message = message + data.columns.length + ' columns';
        document.getElementById('message-container').textContent = message;
      });

    </script>
  </body>
</html>
